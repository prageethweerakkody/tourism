<!DOCTYPE html>
<html ng-app="mataTabi">
	<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="favicon.ico">

	<title>新規登録</title>
	<!-- Bootstrap -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

	<!-- Optional theme -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous">

	<!--lightbox -->
	<link rel="stylesheet" type="text/css" href="css/lightbox.css">
	<link rel="stylesheet" type="text/css" href="css/styles.css">
	<link rel="stylesheet" type="text/css" href="css/bootstrap-social.css">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <link href="css/ie10-viewport-bug-workaround.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="css/starter-template.css" rel="stylesheet">
    <link href="css/dashboard.css" rel="stylesheet">
	</head>
	<body>

	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.9/angular.min.js"></script>
	<script src="controllers/controller.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
	<script src="js/lightbox.min.js"></script>
	<script type="text/javascript"
	        src="https://maps.googleapis.com/maps/api/js?v=3&amp;key=AIzaSyApUY508Q917TvPTwIiPYu0EhvEYQNJuDQ"></script>


    <!-- トップナビゲーション -->
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container" ng-controller="AppCtrl">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
          </button>
          <p class="navbar-brand">また旅・管理</p>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
         <!--<ul class="nav navbar-nav">
            <li class="active"><a href="#" ng-click="openControl()">コントロールパネル</a></li>
          </ul> -->
          <ul class="nav navbar-nav navbar-right">
            <li><a href="#" ng-click="logout()">ログアウト<span class="glyphicon glyphicon-off" aria-hidden=true></span></a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>

    <!--サイドバー-->
    <div class="container-fluid" ng-controller="AppCtrl">
      <div class="row">
        <div class="col-sm-3 col-md-2 sidebar">
          <ul class="nav nav-sidebar">
            <li>
                <a href="#" ng-click="openMyPage()">
                    <span class="glyphicon glyphicon-cog" aria-hidden=true>マイページ</span>
                </a>
            </li>
            <li>
                <a href="#" ng-click="myOpenSpotList()">
                    <span class="glyphicon glyphicon-list" aria-hidden=true>マイスポット一覧</span>
                </a>
            </li>
       <!-- <li>
                <a href="#">
                    <span class="glyphicon glyphicon-question-sign" aria-hidden=true>連絡事項</span>
                </a>
            </li> -->
          </ul>
        </div>
    </div>

	<div class="container" ng-controller="AppCtrl" >
      <div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
		<h1>スポット登録</h1>

		<div align="right">
		<label  style="width: 300px;" >
			<input type="radio" ng-model=spot.entry value="new" ng-change="openNew()" >
			新規登録（Instagram/Twitter）
		</label>
		</div>

		<label style="width: 200px;">
		<input id="cb01" type="checkbox" ng-click="getUserFacebookData()" ng-model=facebook>
		<label class="btn btn-block btn-social btn-facebook" for="cb01" >facebook データ取得<img  id="location" src="https://worldvectorlogo.com/logos/facebook-icon-white.svg"></label>
	</label>


		<table class="table" style="table-layout: fixed;">
			<thead>
				<tr>
					<th class="col-sm-1"></th>
					<th class="col-sm-4"></th>
				</tr>
			</thead>
			<tbody>
				<!--facebook メッセージ-->
	    		<tr ng-show="facebook"><td>facebook本文選択</td>
	    			<td>
		    			<tt>
			    			<select size="10" position="absolute" class="form-control" name="fbMessageSelect" id="fbMessageSelect" ng-model="spot.facebook_messages" ng-change="setFacebookMessage(spot.facebook_messages)"multiple>
			    				<option value="{{facebook_data[1].message}}">{{facebook_data[1].message}}</option>
			    				<option value="{{facebook_data[2].message}}">{{facebook_data[2].message}}</option>
			    				<option value="{{facebook_data[3].message}}">{{facebook_data[3].message}}</option>
			    				<option value="{{facebook_data[4].message}}">{{facebook_data[4].message}}</option>
			    				<option value="{{facebook_data[5].message}}">{{facebook_data[5].message}}</option>
			    				<option value="{{facebook_data[6].message}}">{{facebook_data[6].message}}</option>
			    				<option value="{{facebook_data[7].message}}">{{facebook_data[7].message}}</option>
			    				<option value="{{facebook_data[8].message}}">{{facebook_data[8].message}}</option>
			    				<option value="{{facebook_data[9].message}}">{{facebook_data[9].message}}</option>
			    				<option value="{{facebook_data[10].message}}">{{facebook_data[10].message}}</option>
			    			</select>
		    			</tt><tt>{{spot.facebook_messages}}</tt><br>
	    			</td>
	    		</tr>
	    		<!-- facebook created time-->
	    		<tr ng-show="facebook"><td>facebook作成日時選択</td>
	    			<td>
		    			<tt>
			    			<select size="10" position="absolute" class="form-control" name="fbMessageSelect" id="fbMessageSelect" ng-model="spot.facebook_time" ng-change="setFacebookTime(spot.facebook_time)" multiple>
			    				<option value="{{facebook_data[1].created_time}}">{{facebook_data[1].created_time}}</option>
			    				<option value="{{facebook_data[2].created_time}}">{{facebook_data[2].created_time}}</option>
			    				<option value="{{facebook_data[3].created_time}}">{{facebook_data[3].created_time}}</option>
			    				<option value="{{facebook_data[4].created_time}}">{{facebook_data[4].created_time}}</option>
			    				<option value="{{facebook_data[5].created_time}}">{{facebook_data[5].created_time}}</option>
			    				<option value="{{facebook_data[6].created_time}}">{{facebook_data[6].created_time}}</option>
			    				<option value="{{facebook_data[7].created_time}}">{{facebook_data[7].created_time}}</option>
			    				<option value="{{facebook_data[8].created_time}}">{{facebook_data[8].created_time}}</option>
			    				<option value="{{facebook_data[9].created_time}}">{{facebook_data[9].created_time}}</option>
			    				<option value="{{facebook_data[10].created_time}}">{{facebook_data[10].created_time}}</option>
			    			</select>
		    			</tt>
	    			</td>
	    		</tr>


				<tr><td>スポット名</td><td><input class="form-control" ng-model=spot.name></td></tr>
				<tr>
					<td>スポットタグ
						<span class="text-danger"><br />カンマ(,)区切りで複数入力可能です</span>
					</td>
					<td><input class="form-control" ng-model=spot.tag_spot></td>
				</tr>
				<tr><td>スポット登録日</td><td><input class="form-control" ng-disabled="spot.facebook" ng-model=spot.date></td></tr>
                <tr>
                    <td>facebook本文</td>
                    <td>
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <h3 class="panel-title">翻訳文(言語別)</h3>
                            </div>
                            <div class="panel-body">
                                <div class="row">
                                    <div class="col-lg-6">
                                        <textarea rows="2" class="form-control" placeholder="本文(英語)" ng-disabled="spot.facebook" ng-model=spot.comment_english>
                                        </textarea>
                                    </div>
                                    <div class="col-lg-6">
                                        <textarea
                                            rows="2"
                                            class="form-control"
                                            placeholder="本文(フランス語)"
                                            ng-disabled="spot.facebook"
                                            ng-model=spot.comment_french>
                                        </textarea>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-6">
                                        <textarea rows="2" class="form-control" placeholder="本文(中国語)" ng-model=spot.comment_chinese></textarea>
                                    </div>
                                    <div class="col-lg-6">
                                        <textarea
                                            rows="2"
                                            class="form-control"
                                            placeholder="本文(韓国語)"
                                            ng-disabled="spot.facebook"
                                            ng-model=spot.comment_korean>
                                        </textarea>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </td>
                </tr>
                <!-- <tr>
                    <td>アプリ名
                        <select id="select-app"
                                ng-model=spot.app
                                ng-options="app as app.name for app in applist">
                        </select>
                    </td>
                </tr> -->
            <tr ng-show="facebook"><td></td>
                    <td>
                        <!-- facebook写真選択 -->
                        <div>
                            <ul>

                            <li ng-repeat="(index, data) in facebook_image_data">
                              <label>
                                <a href="{{data.full_picture}}" data-title="third" data-lightbox="vacation">
                                  <img id="{{'f' + index}}" src="data:image/png;base64,{{data.full_picture_base64}}" class="img-thumbnail {{data.approvalStatus ? 'approved' : ''}}">
                                </a>
                                <ul style="margin-left: -60px">
                                  <li>
                                    <label >
                                      <input class="imageCheckbox" type="checkbox" ng-model="spot['photo' + index]"/>
                                      <img ng-click="setImages('photo' + index, data, 'true', 'f' + index)" id="location" src="https://cdn0.iconfinder.com/data/icons/small-n-flat/24/678092-sign-add-128.png">
                                    </label>
                                  </li>
                                  <li style="margin-left: -30px">
                                    <label >
                                      <input class="imageCheckbox" type="checkbox" ng-model="spot['photo' + index]"/>
                                      <img ng-click="setImages('photo' + index, data, 'false', 'f' + index)" class="remove-image" src="https://cdn1.iconfinder.com/data/icons/basic-ui-elements-color/700/07_minus-128.png">
                                    </label>
                                  </li>
                                </ul>
                              </label>
                            </li>

                        </ul>
                        </div>
                    </td>
                </tr>
				<tr>
					<td></td>
					<td>
						<button class="btn btn-danger" ng-click="openMyPage()">キャンセル</button><button class="btn btn-primary" style="margin-top: 20px; margin-bottom: 20px; margin-left: 30px;" ng-click="addSpot()">このスポットを登録する</button>
					</td>
				</tr>
			</tbody>
		</table>

		<!-- <button ng-show="spot.entry" class="btn btn-info" style="margin-top: 20px; margin-bottom: 20px;"  ng-click="deselect()" >クリア</button>-->

		<!-- <td><button class="btn btn-info" ng-click="update()">Update</button></td> -->
      </div>
	</div>
	</body>
</html>
